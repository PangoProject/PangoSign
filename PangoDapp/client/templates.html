<template name="modal">
    <!--This is the modal for a catastrophic Error-->
    <div class="modal show animated fadeInUpBig" data-backdrop="static" data-keyboard="false" id="catastrophicError"
         tabindex="-1"
         role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-danger">
                    <div class="row">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">Abandon Ship!</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            <h1><i class="fa fa-5x fa-ship" aria-hidden="true"></i></h1></div>
                    </div>
                    <div class="row">
                        <div class="col">
                            Sorry, something has gone really wrong!
                            Please let us know what happened.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a type="button" class="btn btn-secondary" target="_blank" href="mailto:signo.eth@gmail.com">Drop Us
                        a Mail!</a>
                </div>
            </div>
        </div>
    </div>

    <!--This is the modal for confirming the user wants to delete a certificate-->
    <div class="modal show animated fadeInUpBig" data-backdrop="static" data-keyboard="false" id="deleteConfirmModal"
         tabindex="-1"
         role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-danger">
                    <div class="row">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">Are you sure?</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            <h1><i class="fa fa-5x fa-trash" aria-hidden="true"></i></h1></div>
                    </div>
                    <div class="row">
                        <div class="col">
                            Are you sure you want to delete this certificate? It cannot be undone!
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                    <button type="button" class="btn btn-primary" target="_blank" id="modalDeleteButtonConfirm">Yes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--This is the modal for informing the user that a certificate has already been deleted when updating-->
    <div class="modal show animated fadeInUpBig" id="infromDeletedOnUpdate" tabindex="-1"
         role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-info">
                    <div class="row">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">FYI:</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            <h1><i class="fa fa-fw fa-5x fa-info-circle" aria-hidden="true"></i></h1></div>
                    </div>
                    <div class="row">
                        <div class="col">
                            Just so you know, this certificate has been deleted previously. This could mean that it has
                            been updated before too. If you want to know more, check out the FAQs.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" target="_blank">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!--This is the modal for reminding the user not to close their browser-->
    <div class="modal show animated fadeInUpBig" id="reminderToWaitForMining" tabindex="-1"
         role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-info">
                    <div class="row">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">Just a sec...</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            <h1><i class="fa fa-fw fa-5x fa-refresh fa-spin" aria-hidden="true"></i></h1></div>
                    </div>
                    <div class="row">
                        <div class="col">
                            Please don't close your browser until your certificate has been mined. We'll let you know
                            when this happens.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" target="_blank">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!--This is the modal for No Web 3 injection-->
    <div class="modal show animated fadeInUpBig" data-backdrop="static" data-keyboard="false" id="noWeb3Modal"
         tabindex="-1"
         role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-danger">
                    <div class="row text-center">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">It appears that you don't have a Web3
                                Client!</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            <h1><i class="fa fa-5x fa-ban" aria-hidden="true"></i></h1></div>
                    </div>
                    <div class="row">
                        <div class="col">
                            As this is a distributed app, you need a tool for interacting with the Ethereum Blockchain.
                            Have you tried MetaMask? We highly recommend it!
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <img src="/images/metamask.png" class="pull-right"
                         style=" padding-left:0.75em; height: 1.5em">
                    <button type="button" class="btn btn-secondary pull-left" target="_blank"
                            href="https://metamask.io/">Try
                        MetaMask
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--This is the modal for being connected to the wrong network-->
    <div class="modal show animated fadeInUpBig" data-backdrop="static" data-keyboard="false" id="worngNetworkModal"
         tabindex="-1"
         role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-warning">
                    <div class="row text-center">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">We see that you are connected
                                to {{connectedNetwork}}. We use Ropsten.</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            <h1><i class="fa fa-5x fa-sitemap" aria-hidden="true"></i></h1></div>
                    </div>
                    <div class="row">
                        <div class="col">
                            As we are still in the early stages of development, we are still running on Ropsten testnet.
                            Please change to this network through your Web3 Provider.
                        </div>
                    </div>
                </div>
                <!--<div class="modal-footer">-->
                <!--<button type="button" id="lockModalCloseButton" class="btn btn-primary" data-dismiss="modal">Continue</button>-->
                <!--</div>-->
            </div>
        </div>
    </div>

    <!--This is the modal for web 3 accounts locked injection-->
    <div class="modal show animated fadeInUpBig" data-backdrop="static" data-keyboard="false" id="accountsLockedModal"
         tabindex="-1"
         role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-info">
                    <div class="row text-center">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">It appears that your Ethereum account is
                                locked</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            <h1><i class="fa fa-5x fa-lock" aria-hidden="true"></i></h1></div>
                    </div>
                    <div class="row">
                        <div class="col">
                            Your Web 3 client is running, but your account is locked. You will not be able to create or
                            update certificates, but you can view them. If you want to this functionality, please unlock
                            your account.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="lockModalCloseButton" class="btn btn-primary" data-dismiss="modal">
                        Continue
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--This is the modal for sharing a certificate-->
    <div class="modal animated fadeInUpBig" id="shareCertificateModal"
         tabindex="-1"
         role="dialog"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-success">
                    <div class="row text-center">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">Share this certificate</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            <div id="shareCertificateQR"></div>
                        </div>
                    </div>
                    <div class="row social-icons icon-rounded icon-zoom">
                        <div class="col"><a href="#"><i class="fa fa-linkedin"></i></a></div>
                        <div class="col"><a href="#"><i class="fa fa-facebook"></i></a></div>
                        <div class="col"><a href="#"><i class="fa fa-twitter"></i></a></div>
                        <div class="col"><a href="#"><i class="fa fa-pinterest"></i></a></div>
                        <div class="col"><a href="#"><i class="fa fa-github"></i></a></div>
                        <div class="col"><a href="#"><i class="fa fa-instagram"></i></a></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="lockModalCloseButton" class="btn btn-primary" data-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--This is the modal for scanning  a QR Code-->
    <div class="modal animated fadeInUpBig" id="scanQRModal"
         tabindex="-1"
         data-backdrop="static"
         data-keyboard="false"
         role="dialog"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <div class="row text-center">
                        <div class="col">
                            <h3 class="modal-title" id="exampleModalLabel">Scan a certificate</h3>
                        </div>
                    </div>

                </div>
                <div class="modal-body center-block">
                    <div class="row text-center">
                        <div class="col">
                            {{#if showQrScanner}}
                                {{>qrSearch}}
                            {{/if}}
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="closeQrScannerButton" class="btn btn-primary" data-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

</template>

<template name="WalletBallance">

    <div class="animated fadeIn">
        <div class="row">
            <div class="col-md-4 col-sm-12">
                <!--<a href="http://ropsten.etherscan.io/address/{{walletAddressWidget}}" target="_blank"-->
                <!--class="a-no-hover">-->
                <div class="card card-inverse card-info">
                    <div class="card-block">
                        <div class="row">
                            <div class="col-8">
                                <h6 class="text-muted text-uppercase font-weight-bold">
                                    Wallet Address
                                </h6>
                                <div class="h5 mb-0 addressTextWrap">
                                    {{walletAddressWidget}}
                                </div>
                            </div>
                            <div class="col-4 pull-right h1">
                                <i class="icon-wallet pull-right" aria-hidden="true"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <!--</a>-->
            </div>
            <div class="col-md-4 col-sm-12">
                <a href="http://ropsten.etherscan.io/address/{{walletAddressWidget}}" target="_blank"
                   class="a-no-hover" data-toggle="tooltip"
                   data-placement="top"
                   title="Click to view your Ether account">
                    <div class="card card-inverse card-warning">
                        <div class="card-block">
                            <div class="row">
                                <div class="col-8">
                                    <h6 class="text-muted text-uppercase font-weight-bold">
                                        Ether Balance
                                    </h6>
                                    <div class="h5 mb-0 addressTextWrap">
                                        {{walletBallanceWidget}}
                                    </div>
                                </div>
                                <div class="col-4 pull-right h1">
                                    <i class="icon-rocket pull-right" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>

            </div>
            <div class="col-md-4 col-sm-12">
                <a href="/search/ia/{{walletAddressWidget}}" class="a-no-hover" data-toggle="tooltip"
                   data-placement="top"
                   title="Click to view your published certificates">
                    <div class="card card-inverse card-danger">
                        <div class="card-block">
                            <div class="row">
                                <div class="col-8">
                                    <h6 class="text-muted text-uppercase font-weight-bold">
                                        Certs published
                                    </h6>
                                    <div class="h5 mb-0 addressTextWrap">
                                        {{numberOfCertsWidget}}
                                    </div>
                                </div>
                                <div class="col-4 pull-right h1">
                                    <i class="icon-badge pull-right" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
    {{>HomeCards}}
</template>

<template name="HomeCards">
    {{> injectWOW}}
    <div class="row">
        <div class="col-md-6">
            <a href="{{pathFor route="search"}}" class="a-no-hover">
                <div class="card card-inverse card-primary wow fadeIn hvr-float">
                    <div class="card-header">
                        <h3>
                            Find a certificate
                        </h3>
                    </div>
                    <div class="card-block text-xs-center">
                        <h1><i class="fa fa-5x fa-search "></i></h1>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-6">
            <a href="{{pathFor route="create"}}" class="a-no-hover">
                <div class="card card-inverse card-success wow fadeIn hvr-float">
                    <div class="card-header">
                        <h3>
                            Create a certificate
                        </h3>
                    </div>
                    <div class="card-block text-xs-center">
                        <h1><i class="fa fa-5x fa-pencil"></i></h1>
                    </div>
                </div>
            </a>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
                <div class="card card-inverse card-warning wow fadeIn hvr-float" id="qrScannerWidgetButton" style="cursor: pointer; cursor: hand;">
                    <div class="card-header">
                        <h3>
                            Scan a certificate
                        </h3>
                    </div>
                    <div class="card-block text-xs-center">
                        <h1><i class="fa fa-5x fa-qrcode"></i></h1>
                    </div>
                </div>
        </div>
    </div>
</template>

<template name="UsageMetrics">
    <div class="card">
        <div class="card-block">
            <div class="row">
                <div class="col-sm-5">
                    <h4 class="card-title mb-0">Network Utilisation</h4>
                    <div class="small text-muted">{{TemplateVar.get "currentTimeFrame"}}</div>
                </div>
                <!--/.col-->
                <div class="col-sm-7 hidden-sm-down">
                    <div class="btn-toolbar float-right" role="toolbar" id="sizeSelector"
                         aria-label="Toolbar with button groups">
                        <div class="btn-group mr-3" data-toggle="buttons" id="sizeSelector" aria-label="First group">
                            <label class="btn btn-outline-secondary">
                                <input type="radio" name="options">Week
                            </label>
                            <label class="btn btn-outline-secondary active">
                                <input type="radio" name="options" checked="">Month
                            </label>
                            <label class="btn btn-outline-secondary">
                                <input type="radio" name="options">3 Months
                            </label>
                        </div>
                    </div>
                </div>
                <!--/.col-->
            </div>
            <!--/.row-->
            <div class="chart-wrapper">
                <canvas id="timeGraph" class="chart" height="300"></canvas>
            </div>
        </div>
        <div class="card-footer">
            <ul>
                <li>
                    <div class="text-muted">Visits</div>
                    <strong>29.703 Users (40%)</strong>
                    <div class="progress progress-xs mt-2">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 40%" aria-valuenow="40"
                             aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </li>
                <li class="hidden-sm-down">
                    <div class="text-muted">Unique</div>
                    <strong>24.093 Users (20%)</strong>
                    <div class="progress progress-xs mt-2">
                        <div class="progress-bar bg-info" role="progressbar" style="width: 20%" aria-valuenow="20"
                             aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </li>
                <li>
                    <div class="text-muted">Pageviews</div>
                    <strong>78.706 Views (60%)</strong>
                    <div class="progress progress-xs mt-2">
                        <div class="progress-bar bg-warning" role="progressbar" style="width: 60%" aria-valuenow="60"
                             aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </li>
                <li class="hidden-sm-down">
                    <div class="text-muted">New Users</div>
                    <strong>22.123 Users (80%)</strong>
                    <div class="progress progress-xs mt-2">
                        <div class="progress-bar bg-danger" role="progressbar" style="width: 80%" aria-valuenow="80"
                             aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </li>
                <li class="hidden-sm-down">
                    <div class="text-muted">Bounce Rate</div>
                    <strong>40.15%</strong>
                    <div class="progress progress-xs mt-2">
                        <div class="progress-bar" role="progressbar" style="width: 40%" aria-valuenow="40"
                             aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</template>

<template name="CandidateSearch">
    <div class="card animated fadeIn">
        <div class="card-block">
            <div class="row">
                <div class="col">
                    <h4 class="card-title mb-0">Search</h4>
                </div>
            </div>
            <form class="candidateSearch">
                <div class="row">
                    <div class="col">
                        <ul class="nav nav-tabs" id="searchTab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active grow-small" id="candidateDetailsSearchTab" data-toggle="tab"
                                   href="#candidateDetailsSearch"
                                   role="tab" aria-controls="home" aria-expanded="true">Candidate details</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link grow-small" id="candidateIdSearchTab" data-toggle="tab"
                                   href="#candidateIdSearch"
                                   role="tab"
                                   aria-controls="profile">Candidate ID</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link grow-small" id="certificateAddressSearchTab" data-toggle="tab"
                                   href="#certificateAddressSearch"
                                   role="tab" aria-controls="profile">Certificate Address</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link grow-small" id="issuerAddressSearchTab" data-toggle="tab"
                                   href="#issuerAddressSearch"
                                   role="tab" aria-controls="profile">Issuer Address</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link grow-small" id="qrSearchTab" href="#" >QR Code</a>
                            </li>
                        </ul>
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="candidateDetailsSearch" role="tabpanel"
                                 aria-labelledby="home-tab">
                                {{>candidateDetailsSearch}}
                            </div>
                            <div class="tab-pane fade" id="candidateIdSearch" role="tabpanel"
                                 aria-labelledby="profile-tab">
                                {{>candidateIdSearch}}
                            </div>
                            <div class="tab-pane fade" id="certificateAddressSearch" role="tabpanel"
                                 aria-labelledby="home-tab">
                                {{>certificateAddressSearch}}
                            </div>
                            <div class="tab-pane fade" id="issuerAddressSearch" role="tabpanel"
                                 aria-labelledby="profile-tab">
                                {{>issuerAddressSearch}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row m-t-0">
                    <div class="col">
                        <button type="submit" class="btn btn-primary">
                            <i class="fa fa-fw fa-search" aria-hidden="true"></i> Search
                        </button>
                    </div>
                    <div class="col">
                        {{# if searchResults}}
                            <strong class="">{{commonMetaDataText}}</strong>
                        {{/if}}
                    </div>
                    <div class="col">
                        <div class="text-muted pull-right">Show deleted certificates
                            <label class="switch switch-text switch-pill switch-secondary-outline-alt">
                                <input type="checkbox" id="showDeletedCertificate" class="switch-input">
                                <span class="switch-label" data-on="On" data-off="Off"></span>
                                <span class="switch-handle"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </form>
            <div class="row">
                <div class="col">
                    {{> searchResultsList searchResults=searchResults commonMetaData=commonMetaData commonMetaDataText=commonMetaDataText}}
                </div>
            </div>
        </div>
    </div>
</template>

<template name="candidateDetailsSearch">
    <div class="row">
        <div class="col-lg-6">
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-fw fa-user" aria-hidden="true"></i></span>
                <input type="text" class="form-control" id="searchCandidateName" name="candidateName"
                       placeholder="Name">
            </div>
        </div>
        <div class="col-lg-6">
            <div class="input-group date">
                <span class="input-group-addon">
                    <i class="fa fa-fw fa-calendar" aria-hidden="true"></i>
                </span>
                <input type="text" id='searchCandidateDOB'
                       class="form-control date" placeholder="Date of Birth">
            </div>
        </div>

    </div>
</template>

<template name="candidateIdSearch">
    <div class="row">
        <div class="col">
            <div class="input-group {{TemplateVar.get "valid"}}">
                            <span class="input-group-addon"><i class="fa fa-fw fa-id-card" aria-hidden="true"></i>
                            </span>
                <input type="text" class="form-control" id="searchCandidateIDHash"
                       placeholder="ID"
                       aria-label="Candidate ID" aria-describedby="basic-addon1">
            </div>
        </div>
    </div>
</template>

<template name="certificateAddressSearch">
    <div class="row">
        <div class="col">
            <div class="input-group {{TemplateVar.get "valid"}}">
                            <span class="input-group-addon" id="basic-addon1"><i class="fa fa-fw fa-file-text"
                                                                                 aria-hidden="true"></i>
                            </span>
                <input type="text" class="form-control" id="searchCertificateAddress"
                       placeholder="Address"
                       aria-label="Certificate Address" aria-describedby="basic-addon1">
            </div>
        </div>
    </div>
</template>

<template name="issuerAddressSearch">
    <div class="row">
        <div class="col">
            <div class="input-group {{TemplateVar.get "valid"}}">
                            <span class="input-group-addon" id="basic-addon1"><i class="fa fa-fw fa-university"
                                                                                 aria-hidden="true"></i>
                            </span>
                <input type="text" class="form-control" id="searchCertificateIssuer"
                       placeholder="Certificate Issuer"
                       aria-label="Certificate Issuer" aria-describedby="basic-addon1">
            </div>
        </div>
    </div>
</template>

<template name="searchResultsList">
    {{#if searchResults}}
        {{>injectWOW}}
        <div class="card-columns">
            {{#each result in searchResults}} {{#with result}}
                {{> ChildCertificate resultCertificateAddress=certificateAddress resultTimeStamp=timeStamp issuerMetaData=issuerMetaData}}
            {{/with}} {{/each}}
        </div>
    {{/if}}
</template>

<template name="ChildCertificate">
    {{#if showDeletedCertificate}}
        <div class="card {{#if TemplateVar.get "isDeleted"}}card-outline-danger{{/if}} wow fadeInUpBig">
            <div class="card-header {{#if TemplateVar.get "isDeleted"}}card-danger{{/if}}"
                 style="padding-top: 8px; padding-bottom: 8px">
                <div class="row pt-1 mt-0">
                    <div class="col p-l-1 p-r-0">
                        <h5>
                            {{TemplateVar.get "name"}}
                        </h5>
                    </div>
                    <div class="col-1 p-l-0 p-r-0">
                        <h4 style="padding: 0px; margin: 0px">
                            {{>injectJqueryTooltip}}
                            {{#if TemplateVar.get "anonymous"}}
                                <a id="searchResultCard" class="pull-right"
                                   data-toggle="tooltip"
                                   data-placement="top"
                                   title="This user chose not to have their information displayed.">
                                    <i class="icon-ghost grey-out nav-link text-muted pull-right p-t-0 p-b-0 m-t-0 m-b-0"
                                       aria-hidden="true" style="padding:0"></i>
                                </a>
                            {{/if}}
                        </h4>
                    </div>
                    {{#unless TemplateVar.get "isDeleted"}}
                        <div class="col-2 p-l-0 p-r-1">
                            <h4 style="padding: 0px; margin: 0px">
                                <a role="button" id="shareCert"
                                   data-toggle="tooltip"
                                   data-placement="top"
                                   title="Share This certificate."
                                   class="icon-share grey-out nav-link text-muted pull-right p-t-0 p-b-0 m-t-0 m-b-0 button"
                                   style="padding:0"
                                   aria-hidden="true"></a>
                            </h4>
                        </div>
                    {{/unless}}
                </div>
            </div>
            <div class="card-block addressTextWrap">
                {{#if TemplateVar.get "logoURL"}}
                    <div class="row">
                        <img class="card-img-top center-block"
                             src="{{TemplateVar.get "logoURL"}}"
                             alt="Card image cap" style="height: 150px; width: auto">
                    </div>
                {{/if}}
                <div class="row">
                    <div class="col">
                        <table class="table">
                            <tbody>
                            {{#each objectToPairs (TemplateVar.get "sundryData")}}
                                <tr>
                                    <td style="width:35%"><b>{{key}}</b></td>
                                    <td>{{value}}</td>
                                </tr>
                            {{/each}}
                            </tbody>
                        </table>
                        {{#unless TemplateVar.get "isDeleted"}}
                            {{#if compare Address (TemplateVar.get "certificateIssuer")}}
                                <hr>
                                <div class="row">
                                    <div class="col-8">
                                        <strong>You created this certificate:</strong>
                                    </div>
                                    <div class="col-2">
                                        <h4>
                                            <a role="button"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Edit"
                                               href="/change/{{TemplateVar.get "certificateAddress"}}"
                                               class="icon-pencil grey-out nav-link text-muted pull-right p-t-0 p-b-0 m-t-0 m-b-0 button"
                                               aria-hidden="true"></a>
                                        </h4>
                                    </div>
                                    <div class="col-2">
                                        <h4>
                                            <a role="button"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Remove"
                                               href="/remove/{{TemplateVar.get "certificateAddress"}}"
                                               class="icon-trash grey-out nav-link text-muted pull-right p-t-0 p-b-0 m-t-0 m-b-0 button"
                                               aria-hidden="true"></a>
                                        </h4>
                                    </div>
                                </div>
                            {{/if}}
                        {{/unless}}
                    </div>
                </div>

            </div>
            <div class="card-footer pl-8 pr-8" style="padding-top: 8px; padding-bottom: 8px">

                <div class="row pt-1 mt-0">
                    <div class="col pull-left">
                        <small class="text-muted pull-left">Added: <strong><br> {{formatDate resultTimeStamp}}</strong>
                        </small>
                    </div>

                    <div class="col-2">
                        {{>injectJqueryPopover}}
                        {{#if TemplateVar.get "issuerMetaData"}}
                            <a class="popover-hover pull-right"
                               data-toggle="popover"
                               data-placement="bottom"
                               title="Number of certificates issued by issuer"
                               data-content="{{TemplateVar.get "issuerMetaData"}} ">
                                <h5 style="padding: 0px; margin: 0px">
                                    <i class="icon-trophy grey-out nav-link text-muted" aria-hidden="true"></i>
                                </h5>
                            </a>
                        {{/if}}
                    </div>
                    <div class="col-2">
                        <a class="popover-hover pull-right"
                           data-toggle="popover"
                           data-placement="bottom"
                           title="Certificate public address"
                           data-content="{{TemplateVar.get "certificateAddress"}} <br> <a href='https://ropsten.etherscan.io/address/{{TemplateVar.get
                                   "certificateAddress"}}' target='_blank'>View Certificate on blockchain</a>">
                            <h5 style="padding: 0px; margin: 0px">
                                <i class="icon-badge grey-out nav-link text-muted"
                                   aria-hidden="true"></i>
                            </h5>
                        </a>
                    </div>
                    <div class="col-2">
                        <a class="popover-hover pull-right"
                           data-toggle="popover"
                           data-placement="bottom"
                           title="Candidate ID"
                           data-content="{{TemplateVar.get "idHash"}} <br> <a href='/search/id/{{TemplateVar.get
                                   "idHash"}}' title='test add link'>View all certificates issued to this candidate</a>">
                            <h5 style="padding: 0px; margin: 0px">
                                <i class="icon-user grey-out nav-link text-muted" aria-hidden="true"></i>
                            </h5>
                        </a>
                    </div>
                    <div class="col-2">
                        <a class="popover-hover pull-right"
                           data-toggle="popover"
                           data-placement="bottom"
                           title="Issuer Address"
                           data-content="{{TemplateVar.get
                                   "certificateIssuer"}} <br> <a href='/search/ia/{{TemplateVar.get
                                   "certificateIssuer"}}' title='test add link'>View all certificates generated by this issuer address</a>">
                            <h5 style="padding: 0px; margin: 0px">
                                <i class="icon-graduation grey-out nav-link text-muted"
                                   aria-hidden="true"></i>
                            </h5>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    {{/if}}
    {{#unless showDeletedCertificate}}
        {{#unless TemplateVar.get "isDeleted"}}
            <div class="card animated fadeInUpBig">
                <div class="card-header" style="padding-top: 8px; padding-bottom: 8px">
                    <div class="row pt-1 mt-0">
                        <div class="col p-l-1 p-r-0">
                            <h5>
                                {{TemplateVar.get "name"}}
                            </h5>
                        </div>
                        <div class="col-1 p-l-0 p-r-0">
                            <h4 style="padding: 0px; margin: 0px">
                                {{>injectJqueryTooltip}}
                                {{#if TemplateVar.get "anonymous"}}
                                    <a id="searchResultCard" class="pull-right"
                                       data-toggle="tooltip"
                                       data-placement="top"
                                       title="This user chose not to have their information displayed.">
                                        <i class="icon-ghost grey-out nav-link text-muted pull-right p-t-0 p-b-0 m-t-0 m-b-0"
                                           aria-hidden="true" style="padding:0"></i>
                                    </a>
                                {{/if}}
                            </h4>
                        </div>
                        <div class="col-2 p-l-0 p-r-1">
                            <h4 style="padding: 0px; margin: 0px">
                                <a role="button" id="shareCert"
                                   data-toggle="tooltip"
                                   data-placement="top"
                                   title="Share This certificate."
                                   class="icon-share grey-out nav-link text-muted pull-right p-t-0 p-b-0 m-t-0 m-b-0 button"
                                   style="padding:0"
                                   aria-hidden="true"></a>
                            </h4>
                        </div>
                    </div>
                </div>
                <div class="card-block addressTextWrap">
                    {{#if TemplateVar.get "logoURL"}}
                        <div class="row">
                            <img class="card-img-top center-block"
                                 src="{{TemplateVar.get "logoURL"}}"
                                 alt="Card image cap" style="height: 150px; width: auto">
                        </div>
                    {{/if}}
                    <div class="row">
                        <div class="col">
                            <table class="table">
                                <tbody>
                                {{#each objectToPairs (TemplateVar.get "sundryData")}}
                                    <tr>
                                        <td style="width:35%"><b>{{key}}</b></td>
                                        <td>{{value}}</td>
                                    </tr>
                                {{/each}}
                                </tbody>
                            </table>
                            {{#if compare Address (TemplateVar.get "certificateIssuer")}}
                                <hr>
                                <div class="row">
                                    <div class="col-8">
                                        <strong>You created this certificate:</strong>
                                    </div>
                                    <div class="col-2">
                                        <h4>
                                            <a role="button"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Edit"
                                               href="/change/{{TemplateVar.get "certificateAddress"}}"
                                               class="icon-pencil grey-out nav-link text-muted pull-right p-t-0 p-b-0 m-t-0 m-b-0 button"
                                               aria-hidden="true"></a>
                                        </h4>
                                    </div>
                                    <div class="col-2">
                                        <h4>
                                            <a role="button"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Remove"
                                               href="/remove/{{TemplateVar.get "certificateAddress"}}"
                                               class="icon-trash grey-out nav-link text-muted pull-right p-t-0 p-b-0 m-t-0 m-b-0 button"
                                               aria-hidden="true"></a>
                                        </h4>
                                    </div>
                                </div>
                            {{/if}}
                        </div>
                    </div>

                </div>
                <div class="card-footer pl-8 pr-8" style="padding-top: 8px; padding-bottom: 8px">

                    <div class="row pt-1 mt-0">
                        <div class="col pull-left">
                            <small class="text-muted pull-left">Added: <strong><br> {{formatDate resultTimeStamp}}
                            </strong>
                            </small>
                        </div>

                        <div class="col-2">
                            {{>injectJqueryPopover}}
                            {{#if TemplateVar.get "issuerMetaData"}}
                                <a class="popover-hover pull-right"
                                   data-toggle="popover"
                                   data-placement="bottom"
                                   title="Number of certificates issued by issuer"
                                   data-content="{{TemplateVar.get "issuerMetaData"}} ">
                                    <h5 style="padding: 0px; margin: 0px">
                                        <i class="icon-trophy grey-out nav-link text-muted" aria-hidden="true"
                                        ></i>
                                    </h5>
                                </a>
                            {{/if}}
                        </div>
                        <div class="col-2">
                            <a class="popover-hover pull-right"
                               data-toggle="popover"
                               data-placement="bottom"
                               title="Certificate public address"
                               data-content="{{TemplateVar.get "certificateAddress"}} <br> <a href='https://ropsten.etherscan.io/address/{{TemplateVar.get
                                       "certificateAddress"}}' target='_blank'>View Certificate on blockchain</a>">
                                <h5 style="padding: 0px; margin: 0px">
                                    <i class="icon-badge grey-out nav-link text-muted"
                                       aria-hidden="true"></i>
                                </h5>
                            </a>
                        </div>
                        <div class="col-2">
                            <a class="popover-hover pull-right"
                               data-toggle="popover"
                               data-placement="bottom"
                               title="Candidate ID"
                               data-content="{{TemplateVar.get "idHash"}} <br> <a href='/search/id/{{TemplateVar.get
                                       "idHash"}}' title='test add link'>View all certificates issued to this candidate</a>">
                                <h5 style="padding: 0px; margin: 0px">
                                    <i class="icon-user grey-out nav-link text-muted" aria-hidden="true"></i>
                                </h5>
                            </a>
                        </div>
                        <div class="col-2">
                            <a class="popover-hover pull-right"
                               data-toggle="popover"
                               data-placement="bottom"
                               title="Issuer Address"
                               data-content="{{TemplateVar.get
                                       "certificateIssuer"}} <br> <a href='/search/ia/{{TemplateVar.get
                                       "certificateIssuer"}}' title='test add link'>View all certificates generated by this issuer address</a>">
                                <h5 style="padding: 0px; margin: 0px">
                                    <i class="icon-graduation grey-out nav-link text-muted"
                                       aria-hidden="true"></i>
                                </h5>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        {{/unless}}
    {{/unless}}
</template>

<template name="qrSearch">
    <div class="row">
        <div class="col">

            {{> qrScanner}}
        </div>
    </div>
</template>

<template name="DeleteCertificate">
    <div class="card animated fadeIn">
        <div class="card-block">
            <div class="row">
                <div class="col">
                    <h4 class="card-title mb-0">Remove</h4>
                </div>
            </div>
            {{> DeleteCertificateForm}}
        </div>
    </div>
</template>

<template name="DeleteCertificateForm">
    <div class="row">
        <div class="col">
            <form id="deleteCertificateForm">
                <div class="form-group {{TemplateVar.get "valid"}}">
                    <label class="form-control-label" for="deleteCertificateAddress">
                        Input Certificate address
                    </label>
                    <input type="text" class="form-control form-control-success" id="deleteCertificateAddress"
                           name="certificateAddress"
                           placeholder="0x0123456789abcdef012345679abcdef0123456"/>

                </div>
                <button type="button" id="deleteCertificateButton" class="btn btn-danger">
                    <i class="fa fa-fw fa-trash" aria-hidden="true"></i> Remove
                </button>
            </form>
        </div>
    </div>
</template>

<template name="UpdateCertificate">
    <div class="card animated fadeIn">
        <div class="card-block">
            <div class="row">
                <div class="col">
                    <h4 class="card-title mb-0">Change</h4>
                </div>
            </div>
            {{> UpdateCertificateForm}}
        </div>
    </div>
</template>

<template name="UpdateCertificateForm">
    <div class="row">
        <div class="col">
            <form id="updateCertificateForm">
                <div class="form-group {{TemplateVar.get "valid"}}">
                    <label class="form-control-label" for="updateAddress">
                        Input certificate address
                    </label>
                    <input type="text" class="form-control form-control-success" id="updateAddress"
                           name="certificateAddress"
                           placeholder="0x0123456789abcdef012345679abcdef0123456"/>
                </div>
                <button type="submit" id="findCertificate" class="btn btn-primary">
                    <i class="fa fa-fw fa-search" aria-hidden="true"></i> Find
                </button>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col">
            {{#if updateCertificateSearchResults}}
                {{>UpdateCertificateFormChild updateCertificateSearchResults=updateCertificateSearchResults}}
            {{/if}}
        </div>
    </div>
</template>

<template name="UpdateCertificateFormChild">
    {{#if (TemplateVar.get "json")}}
        {{>UpdateCertificateFormChildChild json=(TemplateVar.get "json")}}
        <button type="submit" id="update" class="btn btn-primary">
            <i class="fa fa-fw fa-wrench" aria-hidden="true"></i> Change
        </button>
    {{/if}}
</template>

<template name="UpdateCertificateFormChildChild">
    <table class="table">
        <thead>
        <tr>
            <th style="width:30%">
                <strong>
                    Field
                </strong>
            </th>
            <th style="width:auto; padding-bottom: 11px">
                <strong>
                    Value
                </strong>
            </th>
        </tr>
        </thead>
        <tbody>
        {{#each inputs}}
            {{> inputFields}}
        {{/each}}
        </tbody>
        <tfoot>
        <tr>
            <td colspan="2">
                <button id='add-input' class="btn btn-secondary rounded" {{TemplateVar.get
                        "addNewFieldButtonStatus"}}>
                    <i class="fa fa-fw fa-plus" aria-hidden="true"></i>
                </button>
                <div class="pull-right" style="padding-top: 4px">
                    <strong class="text-muted">
                        Anonymous certificate
                    </strong>
                    <label class="switch switch-text switch-pill switch-secondary">
                        <input type="checkbox" class="switch-input" id="anonymousUpdate">
                        <span class="switch-label" data-on="On" data-off="Off"></span>
                        <span class="switch-handle"></span>
                    </label>
                </div>
            </td>
        </tr>
        </tfoot>
    </table>
</template>

<template name="createCertificate">
    <div class="card animated fadeIn">
        <div class="card-block">
            <div class="row">
                <div class="col">
                    <h4 class="card-title mb-0">Create</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <div class="form-inline">
                        <label class="mr-sm-2" for="certificatesTemplates" style="width: 40%">Select a
                            template</label>
                        <select name="certificatesTemplates" id="certificatesTemplates"
                                class="form-control" style="width: 50%">
                            {{#each template in certificatesTemplates}}
                                <option value="{{template.id}}">{{template.name}}</option>
                            {{/each}}
                        </select>
                    </div>
                </div>

                <div class="col-8">
                    <div class="input-group" style="width: 90%">
                        <input type="text" class="form-control" placeholder="Enter University Logo URL"
                               aria-label="Search for..." id="universityLogoURL">
                        <span class="input-group-btn">
                            <button class="btn btn-secondary" type="button" id="universityLogo"><i class="fa fa-camera"
                                                                                                   aria-hidden="true"></i> Find</button>
                        </span>
                    </div>
                    {{#if TemplateVar.get "universityLogoURL"}}
                        <row class="center-block">
                            <img src="{{TemplateVar.get "universityLogoURL"}}" class="pull-right"
                                 style="height:10em; margin=0; padding=0">
                        </row>
                    {{/if}}
                    <!--I know this looks like shit. need to fix it up but was getting pissed off with it. consider using http://via.placeholder.com/250x250-->
                </div>
            </div>
            <div class="row">
                <table class="table">
                    <tbody>
                    {{#each inputs}}
                        {{> inputFields}}
                    {{/each}}
                    </tbody>
                    <tfoot>
                    <tr>
                        <td colspan="2">
                            <button id='add-input' class="btn btn-secondary rounded" {{TemplateVar.get
                                    "addNewFieldButtonStatus"}}>
                                <i class="fa fa-fw fa-plus" aria-hidden="true"></i>
                            </button>
                            <div class="pull-right" style="padding-top: 4px">
                                <strong class="text-muted">
                                    Anonymous certificate
                                </strong>
                                <label class="switch switch-text switch-pill switch-secondary">
                                    <input type="checkbox" class="switch-input" id="anonymousCreate">
                                    <span class="switch-label" data-on="On" data-off="Off"></span>
                                    <span class="switch-handle"></span>
                                </label>
                            </div>
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>
            <button type="submit" id="createCertificate" class="btn btn-primary">
                <i class="fa fa-fw fa-pencil" aria-hidden="true"></i> Create
            </button>
        </div>
    </div>
</template>

<template name='inputFields'>
    <tr class="animated fadeIn">
        <td style="width: 30%">
            <input name='inputKey' class='form-control' type='text' uniqid="{{uniqid}}" maxlength="60"
                   value="{{keyValue}}" {{readOnly}}>
        </td>
        <td>
            <div class="input-group {{type}}">
                <input name='inputValue' class='form-control' type='text' uniqid="{{uniqid}}" id="{{uniqid}}"
                       value="{{value}}" maxlength="140">
                <span class="input-group-btn">
                    {{#if readOnly}}
                        <button id="remove-input" uniqid="{{uniqid}}" class="btn btn-link rounded"
                                style="cursor: not-allowed" aria-disabled="true" disabled>
                        <i class="fa fa-fw fa-trash" aria-hidden="true"></i>
                        </button>
                    {{/if}}
                    {{#unless readOnly}}
                        <button id="remove-input" uniqid="{{uniqid}}" class="btn btn-danger rounded">
                        <i class="fa fa-fw fa-trash" aria-hidden="true"></i></button>
                    {{/unless}}
                </span>
            </div>
        </td>
    </tr>
</template>

<template name="injectJqueryPopover">
</template>

<template name="injectJqueryTooltip">
</template>

<template name="injectWOW">
</template>

<template name="QRCode">
    <div class="row">
        <div class="col">
            <div width="304" height="236" class="img-rounded" id="QRCode"></div>
        </div>
    </div>
</template>

<template name="notFound">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="clearfix">
                    <h1 class="float-left display-3 mr-4">404</h1>
                    <h4 class="pt-3">Oops! You're lost.</h4>
                    <p class="text-muted">The page you are looking for was not found.</p>
                </div>
            </div>
        </div>
    </div>
</template>