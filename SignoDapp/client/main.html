<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Signo - for now">
    <meta name="author" content="Signo">
    <meta name="keyword"
          content="Bootstrap,Admin,Template,Open,Source,AngularJS,Angular,Angular2,Angular 2,Angular4,Angular 4,jQuery,CSS,HTML,RWD,Dashboard,React,React.js,Vue,Vue.js">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>Signo</title>

    <!-- Pace loading (loading bar) -->
    <link href="/pace/themes/pace-theme-barber-shop.css" rel="stylesheet"/>

</head>

<body class="app header-fixed sidebar-fixed aside-menu-fixed aside-menu-hidden">
<header class="app-header navbar">
    <button class="navbar-toggler mobile-sidebar-toggler d-lg-none" type="button">☰</button>
    <a class="navbar-brand" href="#"></a>
    <ul class="nav navbar-nav d-md-down-none">
        <li class="nav-item">
            <a class="nav-link navbar-toggler sidebar-toggler" href="#">☰</a>
        </li>

    </ul>
</header>

<div class="app-body">
    <div class="sidebar">
        <nav class="sidebar-nav">
            <ul class="nav">
                <li class="nav-item">
                    <a class="nav-link" href="main.html"><i class="fa fa-home"></i> Dashboard <span
                            class="badge badge-info">NEW</span></a>
                </li>

            </ul>
        </nav>
    </div>

    <!-- Main content -->
    <main class="main">
        <div class="container-fluid animated fadeIn">
            <div class="row">
                <div class="col">
                    <div class="card">
                        <h3 class="card-header">Wallet</h3>
                        <div class="card-block">
                            {{> WalletBallance}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="card">
                        <h3 class="card-header">Search</h3>
                        <div class="card-block">
                            {{> CandidateSearch}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="card">
                        <h3 class="card-header">Create</h3>
                        <div class="card-block">
                            {{> createCertificate}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="card">
                        <h3 class="card-header">Remove</h3>
                        <div class="card-block">
                            {{> DeleteCertificate}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="card">
                        <h3 class="card-header">Change</h3>
                        <div class="card-block">
                            {{> UpdateCertificate}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.conainer-fluid -->


    </main>


</div>

<footer class="app-footer">
    <a href="signo.com">Signo</a> © 2017 Signo.
    <span class="float-right">Powered by <a href="http://ethereum.org">The Ethereum Blockchain</a>
        </span>
</footer>


<!-- GenesisUI main scripts -->

<script src="/js/app.js"></script>


<!-- Plugins and scripts required by this views -->

<!-- Custom scripts required by this view -->
<!--<script src="/js/views/views.js"></script>-->

</body>


<template name="WalletBallance">
    <div class="row">
        <div class="col-sm-6">
            <div class="card card-inverse card-info">
                <div class="card-block">
                    <div class="h1 text-muted text-right mb-2">
                        <i class="fa fa-address-card" aria-hidden="true"></i>
                    </div>
                    <div class="h4 mb-0">{{getEthBallance}} {{TemplateVar.get "walletAddress"}}</div>
                    <small class="text-muted text-uppercase font-weight-bold">You Wallet Address</small>
                </div>
            </div>
        </div><!--/.col-->
        <div class="col-sm-6">
            <div class="card card-inverse card-info">
                <div class="card-block">
                    <div class="h1 text-muted text-right mb-2">
                        <i class="fa fa-money" aria-hidden="true"></i>
                    </div>
                    <div class="h4 mb-0">{{getEthBallance}} {{TemplateVar.get "walletBallance"}}</div>
                    <small class="text-muted text-uppercase font-weight-bold">Your Ether Balance</small>
                </div>
            </div>
        </div><!--/.col-->
    </div>
</template>

<template name="CandidateSearch">


    <div class="container-fluid">
        <form class="candidateSearch">
            <div class="row">
                <div class="col">
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-secondary {{#if compare searchType "candidateNameDOB"}}active{{/if}}">
                            <input type="radio" id="searchType" name="searchType" class="custom-control custom-radio"
                                   value="candidateNameDOB" autocomplete="off">Candidate Name and DOB
                        </label>
                        <label class="btn btn-secondary {{#if compare searchType "candidateIdHash"}}active{{/if}}">
                            <input type="radio" id="searchType" name="searchType" class="custom-control custom-radio"
                                   value="candidateIdHash" autocomplete="off">Candidate ID Hash
                        </label>
                        <label class="btn btn-secondary {{#if compare searchType "certificateAddress"}}active{{/if}}">
                            <input type="radio" id="searchType" name="searchType" class="custom-control custom-radio"
                                   value="certificateAddress" autocomplete="off">Certificate Address
                        </label>
                        <label class="btn btn-secondary {{#if compare searchType "certificateIssuer"}}active{{/if}}">
                            <input type="radio" id="searchType" name="searchType" class="custom-control custom-radio"
                                   value="certificateIssuer" autocomplete="off">Certificate Issuer
                        </label>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    {{#if compare searchType "candidateNameDOB"}}
                        <div class="input-group date">
                            <span class="input-group-addon" id="basic-addon1"><i class="fa fa-user"
                                                                                 aria-hidden="true"></i></span>
                            <input type="text" class="form-control" id="searchCandidateName" name="candidateName"
                                   placeholder="Name"
                                   aria-label="Username" aria-describedby="basic-addon1">
                            <input type="text" name="candidateDOB" id='searchCandidateDOB' class="form-control"><span
                                class="input-group-addon" placeholder="Date of Birth"><i class="fa fa-calendar"
                                                                                         aria-hidden="true"></i></span>
                        </div>
                    {{/if}}
                    {{#if compare searchType "candidateIdHash"}}
                        <label> Candidate ID Hash: </label>
                        <input type="text" name="idHash" placeholder="ID Hash"/>
                    {{/if}}
                    {{#if compare searchType "certificateAddress"}}
                        <label>Certificate Adress: </label>
                        <input type="text" name="certificateAddress" placeholder="Certificate Public Key"/>
                    {{/if}}
                    {{#if compare searchType "certificateIssuer"}}
                        <label>Issuer Address: </label>
                        <input type="text" name="certificateIssuer" placeholder="Institute Public Key"/>
                    {{/if}}
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <button type="submit" class="btn btn-primary">
                        <i class="fa fa-search" aria-hidden="true"></i> Search
                    </button>
                </div>
            </div>
        </form>

        {{> searchResultsList searchResults=searchResults commonMetaData=commonMetaData commonMetaDataText=commonMetaDataText}}
    </div>

</template>

<template name="searchResultsList">
    {{#if searchResults}}
        <div class="card">
            <div class="card-header">This is a card
                <span class="badge badge-pill badge-primary float-right">
                    {{commonMetaDataText}}
                </span>
            </div>

            {{#each result in searchResults}} {{#with
                    result}} {{> ChildCertificate resultCertificateAddress=certificateAddress resultTimeStamp=timeStamp issuerMetaData=issuerMetaData}}
            {{/with}} {{/each}}
        </div>
    {{/if}}
</template>

<template name="ChildCertificate">
    {{#unless TemplateVar.get "isDeleted"}}
        <div class="container-fluid">
            <div class="card">
                <div class="card-header"><h4>Certificate found:</h4></div>
                <div class="card-block">
                    <p>Certificate public address: {{TemplateVar.get "certificateAddress"}}</p>
                    <p> Date created: {{formatDate resultTimeStamp}}</p>
                    <p>ID Hash: {{TemplateVar.get "idHash"}}</p>
                    <p>Certificate issuer address: {{TemplateVar.get "certificateIssuer"}}</p>
                    {{#if TemplateVar.get "issuerMetaData"}}
                        <p># of certificates issued by issuer: {{TemplateVar.get "issuerMetaData"}}</p>
                    {{/if}}
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th scope="row" style="width:50%">Field</th>
                            <th scope="row" style="width:50%">Value</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each objectToPairs (TemplateVar.get "sundryData")}}
                            <tr>
                                <td>{{key}}</td>
                                <td>{{value}}</td>
                            </tr>
                        {{/each}}
                        </tbody>

                    </table>
                </div>
            </div>
        </div>
    {{/unless}}
</template>

<template name="DeleteCertificate">
    {{> DeleteCertificateForm}}
</template>

<template name="DeleteCertificateForm">
    <div class="container-fluid">
        <div class="row">
            <div class="col">
                <form id="deleteCertificateForm">

                    <div class="form-group {{TemplateVar.get "valid"}}">
                        <label class="form-control-label" for="deleteCertificateAddress">
                            Input Certificate address
                        </label>
                        <input type="text" class="form-control form-control-success" id="deleteCertificateAddress"
                               name="certificateAddress"
                               placeholder="0x0123456789abcdef012345679abcdef0123456"/>
                    </div>
                    <button type="submit" id="deleteCertificate" class="btn btn-danger">
                        <i class="fa fa-trash" aria-hidden="true"></i> Delete
                    </button>
                </form>
            </div>
        </div>
    </div>

</template>

<template name="UpdateCertificate">
    <div class="container-fluid">
        <div class="row">
            <div class="col">
                {{> UpdateCertificateForm}}
            </div>
        </div>
    </div>
</template>

<template name="UpdateCertificateForm">
    <div class="row">
        <div class="col">
            <form id="updateCertificateForm">
                <div class="form-group {{TemplateVar.get "valid"}}">
                    <label class="form-control-label" for="updateAddress">
                        Input Certificate address
                    </label>
                    <input type="text" class="form-control form-control-success" id="updateAddress"
                           name="certificateAddress"
                           placeholder="0x0123456789abcdef012345679abcdef0123456"/>
                </div>
                <button type="submit" id="findCertificate" class="btn btn-primary">
                    <i class="fa fa-search" aria-hidden="true"></i> Find
                </button>
            </form>
        </div>
    </div>
    <div class="row">
        {{#if updateCertificateSearchResults}}
            {{>UpdateCertificateFormChild updateCertificateSearchResults=updateCertificateSearchResults}}
        {{/if}}
    </div>

</template>

<template name="UpdateCertificateFormChild">
    {{#if (TemplateVar.get "json")}}
        {{>UpdateCertificateFormChildChild json=(TemplateVar.get "json")}}
        <button type="submit" id="update" class="btn btn-primary">
            <i class="fa fa-wrench" aria-hidden="true"></i> Update
        </button>
    {{/if}}
</template>

<template name="UpdateCertificateFormChildChild">
    <table class="table">
        <thead>
        <tr>
            <th style="width:30%">
                <strong>
                    Field
                </strong>
            </th>
            <th style="width:auto; padding-bottom: 11px">
                <strong>
                    Value
                </strong>
            </th>
        </tr>
        </thead>
        <tbody>
        {{#each inputs}}
            {{> inputFields}}
        {{/each}}
        </tbody>
        <tfoot>
        <tr>
            <td colspan="2">
                <button id='add-input' class="btn btn-secondary rounded">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                </button>
                <div class="pull-right" style="padding-top: 4px">
                    <strong class="text-muted">
                        Anonymous certificate
                    </strong>
                    <label class="switch switch-text switch-pill switch-secondary">
                        <input type="checkbox" class="switch-input" id="anonymousUpdate" {{updateCheckboxAnonymous}}>
                        <span class="switch-label" data-on="On" data-off="Off"></span>
                        <span class="switch-handle"></span>
                    </label>
                </div>
            </td>
        </tr>
        </tfoot>
    </table>
</template>
<template name="createCertificate">
    <div class="container-fluid">
        <div class="row">
            <div class="col">
                <table class="table">
                    <thead>
                    <tr>
                        <th style="width:30%">
                            <strong>
                                Field
                            </strong>
                        </th>
                        <th style="width:auto; padding-bottom: 11px">
                            <strong>
                                Value
                            </strong>
                            <div class="pull-right">
                                <strong>Pick a template</strong>
                                <select name="certificatesTemplates" id="certificatesTemplates" class="">
                                    {{#each template in certificatesTemplates}}
                                        <option value="{{template.id}}">{{template.name}}</option>
                                    {{/each}}
                                </select>
                            </div>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    {{#each inputs}}
                        {{> inputFields}}
                    {{/each}}
                    </tbody>
                    <tfoot>
                    <tr>
                        <td colspan="2">
                            <button id='add-input' class="btn btn-secondary rounded">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </button>
                            <div class="pull-right" style="padding-top: 4px">
                                <strong class="text-muted">
                                    Anonymous certificate
                                </strong>
                                <label class="switch switch-text switch-pill switch-secondary">
                                    <input type="checkbox" class="switch-input" id="anonymousCreate">
                                    <span class="switch-label" data-on="On" data-off="Off"></span>
                                    <span class="switch-handle"></span>
                                </label>
                            </div>
                        </td>
                    </tr>
                    </tfoot>
                </table>
                <button type="submit" id="createCertificate" class="btn btn-primary">
                    <i class="fa fa-pencil" aria-hidden="true"></i> Create
                </button>
            </div>
        </div>
    </div>
</template>
<template name='inputFields'>
    <tr>
        <td>
            <input name='inputKey' class='form-control' type='text' uniqid="{{uniqid}}"
                   value="{{keyValue}}" {{readOnly}}>
        </td>
        <td>
            <div class="input-group">
                <input name='inputValue' class='form-control' type='{{type}}' uniqid="{{uniqid}}" value="{{value}}">
                <span class="input-group-btn">
                    {{#if readOnly}}
                        <button id="remove-input" uniqid="{{uniqid}}" class="btn btn-link rounded"
                                style="cursor: not-allowed" aria-disabled="true" disabled>
                        <i class="fa fa-trash" aria-hidden="true"></i>
                        </button>
                    {{/if}}
                    {{#unless readOnly}}
                        <button id="remove-input" uniqid="{{uniqid}}" class="btn btn-danger rounded">
                        <i class="fa fa-trash" aria-hidden="true"></i></button>
                    {{/unless}}
                </span>
            </div>
        </td>
    </tr>
</template>
